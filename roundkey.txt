# Register File info

R0 Hard coded to 0x0
R1 a_reg
R2 b_reg
R3 
R4 
R5 a_tmp1
R6 a_tmp2
R7 b_tmp1
R8 b_tmp2
R9 ab_tmp
R10 i
R11 j
R12 i_tmp
R13 j_tmp
R14 k
R15 s_arr_tmp
R16 l_arr_tmp
R17 S[0]-Adress_tmp
R18 L[0]-Adress_tmp

R19 Counter for finding variable rotate amount
R20 Flag- TO DERERMINE WHICH MODULE IS PRESENTLY BEING RUN
R21 #FFFF
R22 rot_num
R23 rot_out
R24 rot_amt
R25 flag_tmp
R27 a1
R28 b1
R29 o1
R30 ab_or
R31 ab_and


# Assembly Code:

	# Initialization

	ADD R0 R0 R12
	ADD R0 R0 R13
	ADD R0 R0 R1
	ADD R0 R0 R2
	ADDI R0 R14 78
	ADDI R0 R10 26
	ADDI R0 R11 4
	ADDI R0 R20 1

	# KEY EXPANSION

	ADDI R0 R17 #ADDRESS 	# LOAD THE S[0] LOCATION INTO TEMPORARY VARIABLE
	ADDI R0 R18 #ADDRESS 	# LOAD THE L[0] LOCATION INTO TEMPORARY VARIABLE
		
		# LOOP STARTS HERE
	LW R17 R15 0 			# LOAD S[i]
	ADD R1 R2 R5 			# A_REG+B_REG
	ADD R5 R15 R5 			# A_REG+B_REG+S[i]
	JMP #ADDRESS 			# JUMP FOR ROTATION, A_TMP2 IN R6
	ADD R0 R6 R1 			# UPDATE A_REG
	SW R17 R1 0 			# STORE THE UPDATED S[i]
	ADD R1 R2 R9 			# AB_TMP
	LW R18 R16 0 			# LOAD L[i]
	ADD R16 R9 R7 			# L[0]+AB_TMP
	ANDI R9 R9 31 			# MOD BY 32
	JMP #ADDRESS 			# ROTATION BY AB_TMP, B_TMP2 IN R8
	ADD R0 R8 R2 			# UPDATE B_REG
	SW R18 R2 0 			# STORE THE UPDATED L[i]
	BEQ R10 R12 #BRANCH_ADDRESS#1
	ADDI R12 R12 1			# INCREMENT i
	ADD R17 R12 R17 		# UPDATE S ADDRESS
	BEQ R11 R13 #BRANCH_ADDRESS#2
	ADDI R13 R13 1			# INCREMENT j
	ADD R18 R13 R18 		# UPDATE L ADDRESS
	BEQ R0 R14 #BRANCH ADDRESS#3
	JMP #ADDRESS 			# JUMP TO THE START OF THE LOOP


	# BRANCH ADDRESS#1

	ADDI R0 R17 #ADDRESS 	# GO TO S[0] AGAIN
	ADDI R0 R12 0 			# SET i=0
	JMP #ADDRESS 			# TO WHERE THE PROGRAM CAME FROM

	# BRANCH ADDRESS#2

	ADDI R0 R18 #ADDRESS 	# GO TO L[0] AGAIN
	ADDI R0 R13 0 			# SET j=0
	JMP #ADDRESS 			# TO WHERE THE PROGRAM CAME FROM

	# ROTATION BY 3

	ADDI R21 R21 255 		# INITIALIZE REGISTER WITH ALL 1'S
	SHL R21 R21 29 			# SHIFT FOR MASKING
	AND R5 R21 R21 			# MASK
	SHR R21 R21 29 			# SHIFT THE MASKED BITS AT RIGHT LOCATION
	SHL R5 R5 3				# SHIFT THE NUMBER
	OR R5 R21 R6 			# OR WITH THE MASKED BITS
	JMP #ADDRESS 			# TO WHERE THE PROGRAM CAME FROM






